<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>04_자바스크립트 내장객체_4 문자열객체</title>
  <style>
    /* textarea{height: 100px;} */
    .p01{
      color: #ea5148; background: #ffe788;
      font-weight: bold;
      width: 500px;
    }
  </style>
</head>
<body>
  <h2>04_자바스크립트 내장객체_4 문자열객체</h2>
  <p>자바스크립트의 내장객체 중에서 활용도가 많은 객체이며 문자열 값을 인덱스번호를 통해 값을 찾거나 다른 문자로 변경도 가능하다.</p>
  <p>아이디, 패스워드 입력창 문자열 개수 체크, 단문 메세지 문자열 개수 체크, 패스워드 문자열 찾아서 다른 문자열로 변경, 이미지 갤러리 등 ...</p>
  <p>문자열 객체는 다른 내장 객체와는 다르게 'new'키워드를 생략해도 된다.</p>

  <h3>문자열 객체의 메서드 종류</h3>
  <ul>
    <li>replace : 문자열 치환</li>
    <li>split : 문자열 분리</li>
    <li>substring : 인덱스번호 구간까지 문자데이터 찾아줌</li>
    <li>length : 문자열 개수 체크</li>
    <li>indexof : 문자열과 일치하는 인덱스 번호를 반환</li>
  </ul>

  <h3>실습1. url주소를 사용하여 원하는 문자열 출력하기</h3>
  <h3>실습2. textarea 태그를 사용하여 사용자가 입력한 글자수를 체크하여 더이상 글자가 써지지 않도록 하며 몇글자가 남았는지 체크하기</h3>

  <form name="" action="" method="">
    <legend>글자수 체크하기 - 댓글, 답변글, 상품평 남기기, 실시간 문의글 등에 활용할 수 있다.</legend>
    <p class="p01">&#x261e; 소감을 125자 이내로 적어주세요.</p>

    <textarea name="msg" cols="50" rows="10" onkeydown="txtCount(this.form.msg, this.form.txtLen, 125)" onkeyup="txtCount(this.form.msg, this.form.txtLen, 125)"></textarea>
    <!-- onkyedown="": 키보드로 입력했을 때 / onkeyup="" : 키보드에서 뗐을 때 -->

    <p class="p01">&#x261e; 현재
      <input type="text" name="txtLen" size="3" maxlength="3" value="125">글자가 남았습니다.
    </p>
  </form>

  <!-- 실습1 -->
  <script>
    // 1. 변수선언과 값대입하기
    let url = 'http://www.naver.com';

    //replace(a, b) : a를 찾아서 b로 변경한다.
    url = url.replace('naver.com', 'daum.net');   // 'naver.com'을 찾아서 'daum.net'로 바꾸고, 다시 url_변수에 담아라
    document.write(`<p>네이버 주소가 ${url}주소로 변경되었습니다.</p>`)

    // 2. split('a') : a자가 들어간 문자를 찾아서 분리한다.
    url = url.split('.');
    document.write(`<p>url문자에서 .을 기준으로 분리 ${url}</p>`);
    // jpg, png, gif, svg 확장자를 구분하기 위해

    // 3. substring : 해당하는 인덱스번호부터 문자열 표시해줌
    // let src1 = prompt('사이트 주소를 입력하세요 예)http://www.naver.com');
    src1 = src1.substring(7);   //http://www.naver.com 이라고 치면 http:// 7개 문자열 제외한 이후부터 출력
    document.write(`입력하신 사이트 주소의 7번째 문자열값은? ${src1}입니다.<br>`)

    // 4. length : 문자열의 개수 반환
    src1 = src1.length;
    document.write(`입력하신 문자열의 개수는 ${src1}개입니다.<br>`);


  </script>

  <!-- 실습2 -->
  <script>
    // 위 텍스트박스에서 사용자가 입력한 데이터 값 매개변수 3가지(this.form.msg, this.form.txtLen, 125)를 함수로 내려 받는다.
    // msg : 사용자가 입력하기 위한 텍스트 박스의 이름을 말함
    // txtlen : 사용자가 입력한 문자박스
    // 125 : 최대 글자 개수

    function txtCount(msg, txtlen, maxlimit){
      // 만약에 사용자가 입력한 텍스트박스 글자가 최대 125글자가 넘으면 
      if(msg.value.length>maxlimit){
        // 더이상 입력이 안되게 한다.
        msg.value=msg.value.substring(0, maxlimit);
      }else{
      // 125 최대 숫자에서 글자개수만큼 빼서 변수에 저장 한 다음 남은 숫자를 출력한다.
      txtlen.value = maxlimit - msg.value.length;
      }
    }
  </script>
</body>
</html>